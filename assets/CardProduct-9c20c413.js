import{c as b,r as o,u as h,k as n,A as l,j as e,N as k,o as E,d as F}from"./index-4232c0b6.js";const p="/assets/heartFull-21262f5e.svg",u="/assets/heartBoder-e6628d67.svg";function y(m){const x=b(),{product:t,listFavor:r,setChange:g,change:f}=m,[j,a]=o.useState(!1),[v,c]=o.useState(u),{favoriteList:i}=h(s=>s.userReduxSlides),{favorList:d}=h(s=>s.productReducer);o.useEffect(()=>{n(l)?r!=null&&r.find(s=>s.id===t.id)||i!=null&&i.find(s=>s.id===t.id)?(a(!0),c(p)):(a(!1),c(u)):d!=null&&d.find(s=>s.id===t.id)?(a(!0),c(p)):(a(!1),c(u))},[r,i,d]);const N=async s=>{try{await F({method:"get",url:s,headers:{Authorization:`Bearer ${n(l)}`}}),await g(!f)}catch(S){throw Error(S)}},C=s=>{n(l)?N(`https://shop.cyberlearn.vn/api/Users/${j?"unlike":"like"}?productId=${s.id}`):x(E(s))};return e.jsxs("div",{className:"card-product",children:[e.jsx("div",{className:"card-product-img",children:e.jsx("img",{src:t.image,alt:"..."})}),e.jsxs("div",{className:"card-product-content",children:[e.jsx("h3",{children:t.name}),e.jsx("p",{children:t.shortDescription})]}),e.jsxs("div",{className:"card-product-interact ",children:[e.jsx(k,{to:"/detail/"+t.id,className:"card-product-btn buy-now",children:"Buy now"}),e.jsxs("button",{className:"card-product-btn price",children:[t.price?t.price:"Check this ","$"]})]}),e.jsx("button",{className:"love-btn",onClick:()=>C(t),children:e.jsx("img",{src:v,alt:"..."})})]})}export{y as C};
