import{c as p,l as m,u as h,r as d,j as t,m as j,d as f,n as D}from"./index-c44d8474.js";import{u as N}from"./useScrollToTop-e5747f98.js";import{L as b}from"./ListItem-e7fd017b.js";import"./CardProduct-ea7531ae.js";function g(){var u;const r=p(),i=m(),{productDetail:e,cartList:a}=h(s=>s.productReducer),[c,o]=d.useState(0);d.useEffect(()=>{const s=a.find(l=>l.id==i.productID);o((s==null?void 0:s.count)||0)},[i.productID]),d.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(a))},[a]);const n=s=>{c+s>=0&&o(c+s)},x=()=>{let s={...e,count:c};r(j(s))};return t.jsxs("div",{className:"detail-product row",children:[t.jsx("div",{className:"detail-product-left",children:t.jsx("img",{src:e.image,alt:""})}),t.jsxs("div",{className:"detail-product-right",children:[t.jsx("h2",{children:e.name}),t.jsx("p",{children:e.description}),t.jsx("h3",{children:"Available size"}),(u=e.size)==null?void 0:u.map((s,l)=>t.jsx("button",{className:"btn-size",children:s},l)),t.jsxs("span",{className:"detail-price",children:[e.price,"$"]}),t.jsxs("div",{children:[t.jsx("button",{className:"btn-quantity",onClick:()=>{n(1)},children:"+"}),t.jsx("span",{children:c}),t.jsx("button",{className:"btn-quantity",onClick:()=>{n(-1)},children:"-"})]}),t.jsx("button",{className:"add-cart",onClick:x,children:"Add to cart"})]})]})}function I(){N();const r=m(),i=p(),{productDetail:e}=h(c=>c.productReducer),a=async c=>{const o=await f.get(`https://shop.cyberlearn.vn/api/Product/getbyid?id=${c}`),n=D(o.data.content);i(n)};return d.useEffect(()=>{a(r.productID)},[r.productID]),t.jsxs("div",{children:[t.jsx(g,{}),t.jsx("h3",{className:"relate-product",children:"- Relate Product -"}),t.jsx("div",{className:"row",style:{marginLeft:"8.4rem",marginBottom:"10.6rem"},children:t.jsx(b,{listProductOption:e.relatedProducts||[],option:!0})})]})}export{I as default};
