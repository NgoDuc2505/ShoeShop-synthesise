import{r as o,u as v,j as e,N,k as h,A as u,d as C}from"./index-83bc0133.js";const n="/ShoeShop-synthesise/assets/heartFull-21262f5e.svg",d="/ShoeShop-synthesise/assets/heartBoder-e6628d67.svg";function y(p){const{product:s,listFavor:c,setChange:m,change:x}=p,[l,r]=o.useState(!1),[f,a]=o.useState(d),{favoriteList:i}=v(t=>t.userReduxSlides);o.useEffect(()=>{c!=null&&c.find(t=>t.id===s.id)?(r(!0),a(n)):(r(!1),a(d))},[c]),o.useEffect(()=>{i!=null&&i.find(t=>t.id===s.id)?(r(!0),a(n)):(r(!1),a(d))},[i]);const g=async t=>{try{await C({method:"get",url:t,headers:{Authorization:`Bearer ${h(u)}`}}),await m(!x)}catch(S){throw Error(S)}},j=t=>{h(u)?g(`https://shop.cyberlearn.vn/api/Users/${l?"unlike":"like"}?productId=${t}`):l?(r(!1),a(d)):(r(!0),a(n))};return e.jsxs("div",{className:"card-product",children:[e.jsx("div",{className:"card-product-img",children:e.jsx("img",{src:s.image,alt:"..."})}),e.jsxs("div",{className:"card-product-content",children:[e.jsx("h3",{children:s.name}),e.jsx("p",{children:s.shortDescription})]}),e.jsxs("div",{className:"card-product-interact ",children:[e.jsx(N,{to:"/detail/"+s.id,className:"card-product-btn buy-now",children:"Buy now"}),e.jsxs("button",{className:"card-product-btn price",children:[s.price?s.price:"Check this ","$"]})]}),e.jsx("button",{className:"love-btn",onClick:()=>j(s.id),children:e.jsx("img",{src:f,alt:"..."})})]})}export{y as C};
