import{r as d,u as N,j as e,N as C,k as u,A as h,d as S}from"./index-35c4481b.js";const n="/assets/heartFull-21262f5e.svg",o="/assets/heartBoder-e6628d67.svg";function E(p){const{product:s,listFavor:c,setChange:m,change:x}=p,[l,t]=d.useState(!1),[f,a]=d.useState(o),{favoriteList:i}=N(r=>r.userReduxSlides);d.useEffect(()=>{c!=null&&c.find(r=>r.id===s.id)?(t(!0),a(n)):(t(!1),a(o))},[c]),d.useEffect(()=>{i!=null&&i.find(r=>r.id===s.id)?(t(!0),a(n)):(t(!1),a(o))},[i]);const g=async r=>{try{await S({method:"get",url:r,headers:{Authorization:`Bearer ${u(h)}`}}),await m(!x)}catch(v){throw Error(v)}},j=r=>{u(h)?g(`https://shop.cyberlearn.vn/api/Users/${l?"unlike":"like"}?productId=${r}`):l?(t(!1),a(o)):(t(!0),a(n))};return e.jsxs("div",{className:"card-product",children:[e.jsx("div",{className:"card-product-img",children:e.jsx("img",{src:s.image,alt:"..."})}),e.jsxs("div",{className:"card-product-content",children:[e.jsx("h3",{children:s.name}),e.jsx("p",{children:s.shortDescription})]}),e.jsxs("div",{className:"card-product-interact ",children:[e.jsx(C,{to:"/detail/"+s.id,className:"card-product-btn buy-now",children:"Buy now"}),e.jsxs("button",{className:"card-product-btn price",children:[s.price?s.price:"Check this ","$"]})]}),e.jsx("button",{className:"love-btn",onClick:()=>j(s.id),children:e.jsx("img",{src:f,alt:"..."})})]})}export{E as C};
